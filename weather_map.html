<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Forecast</title>
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet">
    <script src="js/weatherMap.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    <script src="mapbox-geocoder-utils.js"></script>
    <script src="js/key.js"></script>
</head>
<body>

    <h1>My Paradis</h1>

    <div id="map"></div>

    <p id="weather_description"></p>

    <input type="input" id="input" style="position: absolute; margin-top: -40px">

    <input type="button" id="search" value="search" style="position: absolute;  margin-top: -40px; margin-left: 150px">

    <div id="map-data" style="position: absolute"></div>



     <script>

         mapboxgl.accessToken = mapBoxKey
         let map = new mapboxgl.Map({
             container: 'map',
             style: 'mapbox://styles/mapbox/streets-v9',
             zoom: 10,
             center: [-98.485355, 29.42362]
         });

         let queryParams = new URLSearchParams({
             APPID: weatherMapKey,
             lat:    29.423017,
             lon:   -98.48527,
             units: "imperial"
         });


         function retrieveWeatherInfo() {

             // for (let i = 0; i < 5; i++) {


                 fetch("http://api.openweathermap.org/data/2.5/onecall?" + queryParams, {
                         method: "GET"
                     }
                 ).then(async function (response) {
                     // use await to wait for the json data and then do something with it


                     const data = await response.json();
                     console.log('The entire response:', data);
                     // console.log('Diving in - here is current information: ', data.current);
                     // console.log('A step further - information for tomorrow: ', data.daily[1]);
                     // console.log(data.timezone)
                     let weatherInfo = document.getElementById("map-data")
                     weatherInfo.innerText = data.daily[0].temp.day + data.daily[0].weather[0].description
                     // console.log(data.daily[i].temp.day)
                 });
             // }
            } retrieveWeatherInfo()



         console.log(new Date(1658021592))

            let input = document.getElementById("input")
            input.addEventListener("input", function (event) {

            })

            let search = document.getElementById("search")
            search.addEventListener("click", function (event) {

            })




    </script>
</body>
</html>